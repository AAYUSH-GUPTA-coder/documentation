---
section: automation
date: Last Modified
title: "Register Upkeeps Programmatically"
isMdx: true
whatsnext:
  {
    "Create Automation-Compatible Contracts": "/chainlink-automation/guides/compatible-contracts",
    "Troubleshoot and Debug Upkeeps": "/chainlink-automation/reference/debugging-errors",
  }
---

import { Aside, CodeSample } from "@components"

This guide explains how to register an upkeep from within your smart contract, also called programmatic upkeep creation.

### Log trigger upkeeps

#### Parameters

For upkeeps with triggers using emitted logs, the following parameters are needed:

```solidity
struct LogTriggerConfig {
  address contractAddress; // must have address that will be emitting the log
  uint8 filterSelector; // must have filtserSelector, denoting  which topics apply to filter ex 000, 101, 111...only last 3 bits apply
  bytes32 topic0; // must have signature of the emitted event
  bytes32 topic1; // optional filter on indexed topic 1
  bytes32 topic2; // optional filter on indexed topic 2
  bytes32 topic3; // optional filter on indexed topic 3
}
```

where filterSelector is a bitmask mapping and value is set depending on the selection of filters
| filterSelector | Topic 1 | Topic 2 | Topic 3 |
| ----- | ------- | ------- | ------- |
| 0 | Empty | Empty | Empty |
| 1 | Filter | Empty | Empty |
| 2 | Empty | Filter | Empty |
| 3 | Filter | Filter | Empty |
| 4 | Empty | Empty | Filter |
| 5 | Filter | Empty | Filter |
| 6 | Empty | Filter | Filter |
| 7 | Filter | Filter | Filter |

#### Code sample

<CodeSample src="/samples/Automation/UpkeepIDlogTriggerExample.sol" />
